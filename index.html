<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>RoarZone IPTV</title>

<style>
body{
  margin:0;
  background:#0b0b0b;
  color:#fff;
  font-family:Arial, sans-serif;
}

/* PLAYER */
.player-wrap{
  position:relative;
  height:38vh;
  background:#000;
}
video{
  width:100%;
  height:100%;
}

/* LIVE */
.live-bar{
  position:absolute;
  bottom:10px;
  left:10px;
  background:rgba(0,0,0,.7);
  padding:6px 14px;
  border-radius:6px;
  font-weight:bold;
}
.live-bar span{color:red;margin-right:6px;}

/* CATEGORY UI */
.category-bar{
  display:flex;
  gap:10px;
  padding:10px;
  overflow-x:auto;
}
.category{
  padding:6px 14px;
  background:#1a1a1a;
  border-radius:20px;
}
.category.active{background:red;}

/* PLAYLIST INPUT */
.playlist-box{
  display:flex;
  gap:10px;
  padding:10px;
}
.playlist-box input{
  flex:1;
  padding:10px;
  border-radius:6px;
  border:none;
}
.playlist-box button{
  padding:10px 18px;
  background:red;
  border:none;
  border-radius:6px;
  color:white;
  cursor:pointer;
}

/* CHANNEL GRID */
.channel-grid{
  padding:12px;
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:12px;
}
@media(min-width:768px){
  .channel-grid{grid-template-columns:repeat(4,1fr);}
}
@media(min-width:1200px){
  .channel-grid{grid-template-columns:repeat(6,1fr);}
}

.channel{
  background:#161616;
  border-radius:12px;
  padding:10px;
  text-align:center;
  cursor:pointer;
  transition:.2s;
}
.channel img{
  width:100%;
  height:70px;
  object-fit:contain;
}
.channel p{
  margin:6px 0 0;
  font-size:14px;
}
.channel:hover{
  outline:3px solid red;
  transform:scale(1.05);
}
</style>
</head>

<body>

<!-- PLAYER -->
<div class="player-wrap">
  <video id="player" controls autoplay></video>
  <div class="live-bar"><span>‚óè</span>LIVE</div>
</div>

<!-- CATEGORY (UI LOOK ONLY) -->
<div class="category-bar">
  <div class="category active">ALL</div>
  <div class="category">SPORTS</div>
  <div class="category">BANGLA</div>
  <div class="category">MOVIES</div>
</div>

<!-- PLAYLIST (AUTO FILLED) -->
<div class="playlist-box">
  <input id="playlistUrl" value="https://raw.githubusercontent.com/etcvai/ExtenderMax/refs/heads/main/iptv.m3u8">
  <button onclick="loadPlaylist()">PLAY</button>
</div>

<!-- CHANNEL LIST -->
<div class="channel-grid" id="channels"></div>

<script>
const player = document.getElementById("player");
const grid = document.getElementById("channels");

async function loadPlaylist(){
  const url = document.getElementById("playlistUrl").value;
  grid.innerHTML = "Loading channels...";

  try{
    const res = await fetch(url);
    const text = await res.text();
    parseM3U(text);
  }catch{
    grid.innerHTML = "Playlist load failed!";
  }
}

function parseM3U(data){
  grid.innerHTML="";
  const lines=data.split("\n");
  let ch={};

  lines.forEach(l=>{
    l=l.trim();
    if(l.startsWith("#EXTINF")){
      ch.name=l.split(",")[1]||"Unknown";
      const logo=l.match(/tvg-logo="(.*?)"/);
      ch.logo=logo?logo[1]:"";
    }
    else if(l && !l.startsWith("#")){
      ch.url=l;
      addChannel(ch);
      ch={};
    }
  });
}

function addChannel(ch){
  const div=document.createElement("div");
  div.className="channel";
  div.innerHTML=`
    <img src="${ch.logo || 'https://via.placeholder.com/150'}">
    <p>${ch.name}</p>
  `;
  div.onclick=()=>{
    player.src=ch.url;
    player.play();
  };
  grid.appendChild(div);
}
</script>

</body>
  </html>
